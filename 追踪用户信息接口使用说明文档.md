# 追踪用户信息接口使用说明文档

**解读用户信息**

有时候，发生了慢交互或者发生了 Crash 的时候，问题产生的原因多种多样，我们相对问题进一步分析如果没有详细的用户信息做支持会非常困难，为此我们引入了用户信息设置接口。有了这个接口，您可以在发送崩溃或者发生网络错误或者慢交互的时候能关联到您设置的用户信息，值得注意的的是这个地方的用户信息是一个很抽象的概念，您可以把用户信息理解为用户名、邮箱、用户 ID，甚至你可以把它理解成设备标示，订单号等。一句话，用户信息的概念由您来定！

**用法**

在调用 Blueware.start() 接口的时候调用。

* 1、先定义一个 Hashmap 存放用户信息，设置一些信息放在 ContextConfig 中，这里设置的信息不建议太多，以避免发送数据量过大！

```java
HashMap<String, String> extraData = new HashMap<String, String>();
extraData.put("电话", "189****6789");
extraData.put("ID", "123456");
extraData.put("邮箱", "aaaaa@oneapm.com");
ContextConfig contextConfig = new ContextConfig();
contextConfig.setExtra(extraData);
```

* 2、既然设置了那么多信息，怎么检索？设置一个检索字段吧！

```java
// 搜索字段，例如“电话”或者“ID”？
contextConfig.setSearchField("电话");
```

* 3、调用 withContextConfig 把用户信息设置到启动代码中

**注意**

2.0.3版本及之前的用户请安装如下操作：

```java
BlueWare.withApplicationToken("---- You Token ----")
    .withContextConfig(contextConfig).start(this.getApplication());
```

2.0.4版本及之后的用户请安装如下操作：

```java
BlueWare.withContextConfig(contextConfig);
OneApmAgent.init(this).setToken("---- You Token ----").start();
```

**附加说明**

可能这样写之后还是无法搜索到、看到数据，原因是没有发生Crash崩溃，所有探针没有上传用户的崩溃信息。
